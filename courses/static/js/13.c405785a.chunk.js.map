{"version":3,"sources":["pages/recovery.tsx","../node_modules/antd/lib/row/style/index.js","../node_modules/antd/lib/col/style/index.js","../node_modules/antd/lib/row/index.js","../node_modules/antd/lib/col/index.js","constants.ts","assets/img/logo192.png","components/KratosMessages.tsx","components/KratosForm.tsx"],"names":["Recover","useState","requestResponse","setRequestResponse","useEffect","document","title","initialiseRequest","type","then","request","catch","form","methods","link","config","messages","className","span","src","logo","id","submitLabel","action","fields","header","require","Object","defineProperty","exports","value","_default","Row","Col","FORM_LABELS","label","priority","email","identifier","password","depts","offerings_sub","offerings","children","Text","KratosMessages","map","text","style","maxWidth","KratosForm","fieldsSorted","sortFormFields","Fragment","layout","method","onFinish","values","console","log","initialValues","remember","Item","marginBottom","Title","level","length","renderFormFields","to","routes","recovery","path","registration","paddingBottom","paddingTop","htmlType","width","labelCol","wrapperCol","sort","current","next","c","name","field","required","_required","_label","display","message","validateStatus","defaultValue"],"mappings":"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","file":"static/js/13.c405785a.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { RecoveryFlow } from \"@ory/kratos-client\";\nimport { initialiseRequest } from \"services/kratos\";\nimport { KratosMessages } from \"components/KratosMessages\";\nimport { KratosForm } from \"components/KratosForm\";\nimport { Col, Row } from \"antd\";\nimport logo from \"assets/img/logo192.png\";\nimport \"assets/scss/login.scss\";\n\nconst Recover = () => {\n  const [requestResponse, setRequestResponse] = useState<RecoveryFlow>();\n\n  useEffect(() => {\n    document.title = \"Account Recovery| Courses | AnC\";\n\n    const request = initialiseRequest({\n      type: \"recover\",\n    }) as Promise<RecoveryFlow>;\n    request.then((request) => setRequestResponse(request)).catch(() => {});\n  }, [setRequestResponse]);\n\n  const form = requestResponse?.methods?.link?.config;\n  const messages = requestResponse?.messages;\n\n  return (\n    <div className=\"auth\">\n      <div className=\"background\">\n        <Row>\n          <Col span={18}>\n            <div className=\"header\">\n              <img src={logo} />\n              <h1>Academics and Career Council</h1>\n              <h4>Courses and Reviews Portal</h4>\n            </div>\n          </Col>\n          <Col span={6}>\n            <div id=\"login-password\" className=\"form\">\n              {messages && <KratosMessages messages={messages} />}\n              {form && (\n                <KratosForm\n                  submitLabel=\"Send Recovery Link\"\n                  action={form.action}\n                  fields={form.fields}\n                  messages={form.messages}\n                  header={\"Account Recovery\"}\n                />\n              )}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  );\n};\n\nexport default Recover;\n","\"use strict\";\n\nrequire(\"../../style/index.less\");\n\nrequire(\"../../grid/style\");","\"use strict\";\n\nrequire(\"../../style/index.less\");\n\nrequire(\"../../grid/style\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _grid = require(\"../grid\");\n\nvar _default = _grid.Row;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _grid = require(\"../grid\");\n\nvar _default = _grid.Col;\nexports[\"default\"] = _default;","interface FormLabel {\n    label: string;\n    priority: number;\n}\n\nexport const FORM_LABELS: { [key: string]: FormLabel } = {\n    \"to_verify\": {\n        label: \"Email\",\n        priority: 100\n    },\n    \"csrf_token\": {\n        label: \"\",\n        priority: 100\n    },\n    \"traits.email\": {\n        label: \"Email\",\n        priority: 90,\n    },\n    email: {\n        label: \"Email\",\n        priority: 80\n    },\n    identifier: {\n        label: \"Email\",\n        priority: 80\n    },\n    password: {\n        label: \"Password\",\n        priority: 80\n    }\n}\n\nexport const depts = [\"AE\", \"ART\", \"BSE\", \"CE\", \"CHE\", \"CHM\", \"CS\", \"CSO\", \"DES\", \"ECO\", \"EE\", \"EEM\", \"ENG\", \"ES\", \"ESC\", \"ESO\", \"IME\", \"PHY\", \"LIF\", \"LT\", \"MBA\", \"ME\", \"MSE\", \"MSO\", \"MTH\", \"NT\", \"PHI\", \"PHY\", \"PSY\", \"SE\", \"SOC\", \"TA\"];\n\nconst offerings_sub = [\n    {\n        value: 'Even',\n        label: 'Even',\n    },\n    {\n        value: 'Odd',\n        label: 'Odd',\n    },\n]\n\nexport const offerings = [\n\n    {\n        value: '20-21',\n        label: '20-21',\n        children: offerings_sub\n    },\n    {\n        value: '19-20',\n        label: '19-20',\n        children: offerings_sub\n    }, {\n        value: '18-19',\n        label: '18-19',\n        children: offerings_sub\n    },\n    {\n        value: '17-18',\n        label: '17-18',\n        children: offerings_sub\n    },\n\n];","export default __webpack_public_path__ + \"static/media/logo192.2b6e6951.png\";","import React from \"react\";\nimport { Message } from \"@ory/kratos-client\";\nimport { Typography } from \"antd\";\n\nconst { Text } = Typography;\n\nexport const KratosMessages = ({ messages }: { messages: Message[] }) => (\n  <div className=\"messages\">\n    {messages.map(({ text, id, type }) => (\n      <div className=\"errortext\" style={{ maxWidth: \"100%\" }}>\n        <Text type=\"danger\" className=\"errortext\">\n          {text}\n        </Text>\n      </div>\n    ))}\n  </div>\n);\n","import { FormField, Message } from \"@ory/kratos-client\";\nimport { Button, Form, Input, Typography } from \"antd\";\nimport { KratosMessages } from \"components/KratosMessages\";\nimport config from \"config/kratos\";\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport { FORM_LABELS } from \"../constants\";\n\nexport const KratosForm = ({\n  action,\n  messages = [],\n  fields,\n  submitLabel = \"Submit\",\n  header,\n}: {\n  action: string;\n  messages?: Message[];\n  fields: FormField[];\n  submitLabel: string;\n  header: string;\n}) => {\n  const fieldsSorted = sortFormFields({ fields });\n  return (\n    <React.Fragment>\n      {action && (\n        <div className=\"fieldset\">\n          {/* <ConfigProvider form={{validateMessages:messages}}> */}\n          <Form\n            {...layout}\n            action={action}\n            // style={{ margin: \"60px 0\" }}\n            method=\"POST\"\n            onFinish={(values) => console.log(values)}\n            initialValues={{ remember: true }}\n            layout=\"vertical\"\n            className=\"fieldset\"\n            // style={{ marginBottom: 0 }}\n          >\n            {/* <Form {...layout}> */}\n            <form\n              action={action}\n              // style={{ margin: \"60px 0\" }}\n              method=\"POST\"\n            >\n              <Form.Item style={{ marginBottom: 0 }}>\n                <Typography>\n                  <Typography.Title level={2} className=\"formtitle\">\n                    {header}\n                  </Typography.Title>\n                </Typography>\n              </Form.Item>\n              <Form.Item>\n                {!!messages?.length && <KratosMessages messages={messages} />}\n              </Form.Item>\n              {renderFormFields({ fields: fieldsSorted })}\n              <Form.Item style={{ marginBottom: 0 }}>\n                <NavLink\n                  className=\"login-form-forgot\"\n                  to={config.routes.recovery.path}\n                >\n                  Forgot password?\n                </NavLink>\n                <NavLink\n                  className=\"login-form-forgot\"\n                  to={config.routes.registration.path}\n                >\n                  <br />\n                  New User?\n                  <br />\n                </NavLink>\n              </Form.Item>\n\n              <Form.Item\n                style={{ marginBottom: 2, paddingBottom: 20, paddingTop: 5 }}\n              >\n                <Button\n                  type=\"primary\"\n                  htmlType=\"submit\"\n                  className=\"login-form-button\"\n                  style={{ width: \"100%\" }}\n                >\n                  {submitLabel}\n                </Button>\n              </Form.Item>\n            </form>\n          </Form>\n          {/* </ConfigProvider> */}\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nconst sortFormFields = ({ fields }: { fields: FormField[] }) => {\n  return fields.sort((current, next) => {\n    const c = FORM_LABELS[current.name]?.priority || 0;\n    const n = FORM_LABELS[next.name]?.priority || 0;\n    return n - c;\n  });\n};\n\nconst renderFormFields = ({ fields = [] }: { fields: FormField[] }) =>\n  fields.map((field) => {\n    const { name, type, required, value, messages = [] } = field;\n    const _required = required ? { required } : {};\n    const _label = FORM_LABELS[name]?.label;\n    const style = type === \"hidden\" ? { display: \"none\" } : {};\n    const textmsg = messages.map((message) => {\n      return message.text;\n    }) as Array<string>;\n    return (\n      <fieldset key={name} style={style}>\n        <label>\n          <Form.Item\n            label={_label}\n            validateStatus={messages.length === 0 ? \"\" : \"error\"}\n            // help={messages.length === 0 ? \"\" : \"\".concat(...textmsg)}\n            style={{ marginBottom: 0 }}\n          >\n            {/* {messages[0]} */}\n            <Input\n              type={type}\n              name={name}\n              defaultValue={value as any}\n              {..._required}\n              style={{ maxWidth: \"100%\", width: \"100%\" }}\n            ></Input>\n          </Form.Item>\n          {/* {_label && <span>{_label}</span>} */}\n        </label>\n        <KratosMessages messages={messages} />\n      </fieldset>\n    );\n  });\n"],"sourceRoot":""}