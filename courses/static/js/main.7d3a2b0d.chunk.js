(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{257:function(e,t,n){},258:function(e,t,n){},431:function(e,t,n){},436:function(e,t,n){},504:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),s=n.n(a),i=n(31),r=n.n(i),o=(n(257),n(258),n(58)),l=n(40),j=n(516),d=n(107),u=n(41),b=Object(u.b)({key:"USER",default:{username:"",token:"",loggedIn:!1}}),m=function(e){var t=Object(l.h)(),n=Object(l.g)(),i=Object(u.d)(b);Object(a.useEffect)((function(){return i()}),[]),s.a.useEffect((function(){window.document.title="Error"}));return Object(c.jsx)(j.a,{status:t.code||404,title:t.code||"404",subTitle:function(){switch(t.code){case"404":return"Sorry, the page you visited does not exist.";case"500":return"We have some troubles connecting to our servers. Try again shortly!";default:return"Sorry, the page you visited does not exist."}}()||"Unknown Error",extra:Object(c.jsx)(o.b,{to:"/home",children:Object(c.jsx)(d.a,{type:"primary",onClick:function(){"500"===t.code&&n.goBack()},children:"Back Home"})})})},h=n(9),O=n(174),p=n(251),x=n(221),f=n(510),g=n(507),v=n(514),y=n(517),w=n(512),N=n(59),S=n.n(N),C=n(515),E=n(137),I=n.n(E),k=function(e){return"https://anciitk-courses.herokuapp.com/api/".concat(e)},T=function(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(!1),o=Object(h.a)(r,2),l=o[0],d=o[1],m=Object(a.useState)(!1),O=Object(h.a)(m,2),f=O[0],g=O[1],y=Object(u.c)(b).token,w=Object(u.d)(b);Object(a.useEffect)((function(){d(!0),S.a.get(k("getReviews/".concat(e.course)),{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(y)}}).then((function(e){i(e.data),d(!1)})).catch((function(e){var t;p.b.error((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Failed to Reach Server"),w(),d(!1),g(!0)}))}),[e.course]);var N=C.a.Panel;return Object(c.jsxs)(x.a,{tip:"Loading.....",spinning:l,children:[!l&&Object(c.jsx)(C.a,{accordion:!0,children:s.map((function(e){return Object(c.jsx)(N,{header:"".concat(e.semester," Prof : ").concat(e.instructor),children:Object(c.jsx)(v.a,{children:Object(c.jsx)(I.a,{children:e.grading})})},e._id)}))}),!l&&0===s.length&&Object(c.jsx)(j.a,{title:"There are no reviews!"}),f&&Object(c.jsx)(j.a,{status:"warning",title:"Failed to fetch reviews! Please check your network connection"})]})},F=n(513),P=n(521),A=n(522),L=n(523),R=n(524),M=function(e){var t=e.files.map((function(e){return JSON.parse(e)})),n=Object(u.c)(b).token,a=function(e){switch(e){case"pdf":return Object(c.jsx)(P.a,{});case"doc":return Object(c.jsx)(A.a,{});case"zip":return Object(c.jsx)(L.a,{});default:return Object(c.jsx)(R.a,{})}};return Object(c.jsx)(F.b,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return Object(c.jsx)(F.b.Item,{children:Object(c.jsx)(F.b.Item.Meta,{avatar:a(e.name.split(".")[e.name.split(".").length-1]),title:Object(c.jsx)("a",{download:!0,href:"".concat(k("getFile"),"/").concat(e.fileId,"?mimeType=").concat(e.name.split(".")[e.name.split(".").length-1],"&token=").concat(n),children:e.name})})})}})},B=O.a.TabPane,U=function(){var e=Object(l.h)(),t=Object(l.g)(),n=Object(a.useState)(),s=Object(h.a)(n,2),i=s[0],r=s[1],o=Object(a.useState)(!1),j=Object(h.a)(o,2),d=j[0],m=j[1],N=Object(u.c)(b).token;return Object(a.useEffect)((function(){m(!0),S.a.get(k("getCourse/".concat(e.cid)),{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(N)}}).then((function(e){r(e.data),m(!1),window.document.title="".concat(e.data.title," | Courses | AnC")})).catch((function(e){var n;p.b.error((null===(n=e.response)||void 0===n?void 0:n.data.message)||"An Unknown Error Occured!"),setTimeout((function(){t.push("/home")}),5e3)}))}),[e.cid]),Object(c.jsx)(x.a,{spinning:d,tip:"Loading...",children:Object(c.jsx)(f.a,{className:"site-page-header-responsive",onBack:function(){return window.history.back()},title:"".concat((null===i||void 0===i?void 0:i.number)||" ","   ").concat((null===i||void 0===i?void 0:i.title)||" "),extra:[],footer:Object(c.jsxs)(O.a,{defaultActiveKey:"1",children:[Object(c.jsxs)(B,{tab:"Details",children:[Object(c.jsx)(g.a,{}),Object(c.jsxs)(v.a,{children:[" ",Object(c.jsx)(I.a,{children:(null===i||void 0===i?void 0:i.contents)||""})," "]})]},"1"),Object(c.jsx)(B,{tab:"Reviews",children:Object(c.jsx)(T,{course:e.cid})},"2"),Object(c.jsx)(B,{tab:"Files",children:Object(c.jsx)(M,{files:(null===i||void 0===i?void 0:i.driveFiles)||[]})},"3")]}),children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsxs)("div",{className:"main",children:[" ",Object(c.jsx)(y.a,{size:"small",column:1,children:Object(c.jsx)(y.a.Item,{label:"Department",children:null===i||void 0===i?void 0:i.dept})})]}),Object(c.jsxs)("div",{className:"extra",children:[" ",Object(c.jsxs)("div",{style:{display:"flex",width:"max-content",justifyContent:"flex-end"},children:[Object(c.jsx)(w.a,{title:"Credits",value:(null===i||void 0===i?void 0:i.credits)||"",style:{marginRight:32}}),Object(c.jsx)(w.a,{title:"Offered",value:(null===i||void 0===i?void 0:i.offered)||""})]})]})]})})})},D=(n(431),n.p+"static/media/logo192.2b6e6951.png"),H=function(){return Object(a.useEffect)((function(){document.body.classList.add("body-banner");var e=document.createElement("script");return e.src="static/js/landing.js",e.async=!0,document.body.appendChild(e),function(){document.body.classList.remove("body-banner"),document.body.removeChild(e)}})),Object(c.jsx)(a.Fragment,{children:Object(c.jsxs)("ul",{id:"scene",children:[Object(c.jsx)("li",{className:"layer","data-depth":"0.0"}),Object(c.jsx)("li",{className:"layer","data-depth":"0.10",children:Object(c.jsx)("div",{className:"background"})}),Object(c.jsx)("li",{className:"layer","data-depth":"0.10",children:Object(c.jsx)("div",{id:"particules",children:Object(c.jsx)("div",{className:"first",id:"star"})})}),Object(c.jsx)("li",{className:"layer","data-depth":"0.15",children:Object(c.jsx)("div",{id:"particules",children:Object(c.jsx)("div",{className:"second",id:"star"})})}),Object(c.jsx)("li",{className:"layer","data-depth":"0.20",children:Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("img",{src:D,alt:"logo"})})}),Object(c.jsx)("li",{className:"layer","data-depth":"0.30",children:Object(c.jsx)("div",{className:"text",children:Object(c.jsx)("p",{className:"sub-title",children:"Courses Reviews"})})}),Object(c.jsx)("li",{className:"layer","data-depth":"0.40",children:Object(c.jsx)("div",{className:"text",children:Object(c.jsx)("h1",{children:"Courses"})})}),Object(c.jsx)("li",{className:"layer","data-depth":"0.42",children:Object(c.jsx)("div",{id:"particules",children:Object(c.jsx)("div",{className:"third",id:"star"})})}),Object(c.jsx)("li",{className:"layer","data-depth":"0.60",children:Object(c.jsx)("div",{id:"particules",children:Object(c.jsx)("div",{className:"fourth",id:"star"})})})]})})},z=n(525),J=function(){var e=Object(u.c)(b).loggedIn;return Object(a.useEffect)((function(){window.document.title="Courses | AnC"})),Object(c.jsxs)("div",{children:[Object(c.jsx)(H,{}),Object(c.jsx)(o.b,{to:e?"/search":"/signin",children:Object(c.jsx)(z.a,{style:{fontSize:40,position:"absolute",bottom:"10vh",justifySelf:"center",left:0,right:0,margin:"auto"}})})]})},G=n(526),q=n(508),K=n(108),V=n(64),Y=n(518),_=n(73),W=n(509),Q=n(520),X=["AE","ART","BSE","CE","CHE","CHM","CS","DES","ECO","EE","EEM","ENG","ES","ESC","ESO","IME","PHY","LIF","LT","MBA","ME","MSE","MSO","MTH","NT","PHI","PHY","PSY","SE","SOC","TA"],Z=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),r=Object(h.a)(i,2),l=r[0],d=r[1],u=Object(a.useState)([]),b=Object(h.a)(u,2),m=b[0],O=b[1],x=Object(G.a)(n,500),f=Object(h.a)(x,1)[0];return Object(a.useEffect)((function(){""!==l&&S.a.get(k("search/".concat(l).concat(f))).then((function(e){O(e.data)})).catch((function(e){var t;p.b.error((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Failed to Reach Server")}))}),[l,f]),Object(c.jsx)(q.a,{style:{backgroundColor:"white",height:"100vh"},children:Object(c.jsx)(q.a.Content,{className:"site-layout",style:{padding:"0 50px",marginTop:64,marginBottom:64},children:Object(c.jsxs)("div",{className:"site-input-group-wrapper",children:[Object(c.jsx)(K.a,{justify:"center",children:Object(c.jsx)(V.a,{xs:24,md:12,children:Object(c.jsxs)(Y.a.Group,{compact:!0,children:[Object(c.jsx)(_.a,{defaultValue:"Dept.",style:{width:"30%"},onChange:function(e){d(e),s("")},children:X.map((function(e){return Object(c.jsx)(_.a.Option,{value:e,children:e})}))}),Object(c.jsx)(W.a,{style:{width:"70%"},placeholder:"Course Code",options:m.map((function(e){return{value:e.number.replace(/\D/g,"")+(isNaN(parseInt(e.number[e.number.length-1]))?e.number[e.number.length-1]:"")}})),allowClear:!0,value:n,onChange:function(e){return s(e)}})]})})}),Object(c.jsx)(K.a,{justify:"center",children:Object(c.jsxs)(V.a,{xs:24,md:12,children:[m.map((function(e){return Object(c.jsx)(Q.a,{type:"inner",title:e.number,extra:Object(c.jsx)(o.b,{to:"/course/".concat(e.number),children:"More"}),style:{marginTop:"4vh"},children:"".concat(e.title," ").concat(e.credits)})})),0===m.length&&Object(c.jsx)(j.a,{title:"No Courses found!"})]})})]})})})},$=function(){return s.a.useEffect((function(){window.document.title="Search | Courses | AnC"})),Object(c.jsx)(Z,{})},ee=n(511),te=n(519),ne=n(527),ce=n(528),ae=(n(436),function(){var e=Object(u.e)(b),t=Object(a.useState)(!1),n=Object(h.a)(t,2),s=n[0],i=n[1],r=Object(l.g)();return Object(c.jsx)(x.a,{spinning:s,tip:"Loading...",children:Object(c.jsxs)(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){i(!0),S.a.post(k("signin"),{userName:t.username.trim(),password:t.password.trim()}).then((function(n){e({username:t.username.trim(),token:n.data.token,loggedIn:!0}),localStorage.setItem("anc-courses",JSON.stringify({username:t.username.trim(),token:n.data.token,loggedIn:!0,expireTime:Date.now()+1044e4})),p.b.success("Logged In Successfully"),i(!1),r.push("search")})).catch((function(e){var t;p.b.error((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Failed to Reach Server"),i(!1)}))},children:[Object(c.jsx)(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(c.jsx)(Y.a,{prefix:Object(c.jsx)(ne.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(c.jsx)(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(c.jsx)(Y.a,{prefix:Object(c.jsx)(ce.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(c.jsx)(ee.a.Item,{children:Object(c.jsx)(ee.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(c.jsx)(te.a,{children:"Remember me"})})}),Object(c.jsxs)(ee.a.Item,{children:[Object(c.jsx)(d.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),Object(c.jsx)(o.b,{className:"login-form-forgot",to:"signup",children:"New User? Register Here!"})]})]})})}),se=function(){return s.a.useEffect((function(){window.document.title="SignIn | Courses | AnC"})),Object(c.jsx)("div",{className:"site-input-group-wrapper",style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10%"},children:Object(c.jsx)(ae,{})})},ie=n(27),re=n(151),oe=function(e){var t=e.component,n=Object(re.a)(e,["component"]),a=Object(u.c)(b).loggedIn;return Object(c.jsx)(l.b,Object(ie.a)(Object(ie.a)({},n),{},{render:function(e){return a?Object(c.jsx)(t,Object(ie.a)(Object(ie.a)({},n),e)):Object(c.jsx)(l.a,{to:{pathname:"/home"}})}}))},le=v.a.Text,je=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],s=t[1];return Object(c.jsxs)(x.a,{spinning:n,tip:"Loading...",children:[Object(c.jsx)(v.a.Title,{level:3,children:"New User Registration"}),Object(c.jsxs)(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){s(!0),S.a.post(k("signup"),{userName:e.username.trim()}).then((function(e){p.b.success(e.data.message),s(!1)})).catch((function(e){var t;p.b.error((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Failed to Reach Server"),s(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(c.jsx)(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(c.jsx)(Y.a,{prefix:Object(c.jsx)(ne.a,{className:"site-form-item-icon"}),placeholder:"IITK Username"})}),Object(c.jsx)(ee.a.Item,{children:Object(c.jsx)(d.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Submit"})}),Object(c.jsx)(le,{type:"secondary",children:"An Email will sent to your IITK Email Id containing the password!"})]})]})},de=function(){return s.a.useEffect((function(){window.document.title="SignUp | Courses | AnC"})),Object(c.jsx)("div",{className:"site-input-group-wrapper",style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10%",overflow:"hidden"},children:Object(c.jsx)(je,{})})},ue=function(){var e=Object(u.e)(b);return Object(a.useEffect)((function(){var t=localStorage.getItem("anc-courses");console.log(t),t&&JSON.parse(t).expireTime>Date.now()&&e(JSON.parse(t)),S.a.get(k("wakeup")).then((function(){return console.log("Connection Success")}))}),[]),Object(c.jsx)(o.a,{basename:"/courses",children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{path:"/home",component:J}),Object(c.jsx)(l.b,{path:"/signin",component:se}),Object(c.jsx)(l.b,{path:"/signup",component:de}),Object(c.jsx)(oe,{path:"/search",component:$}),Object(c.jsx)(oe,{path:"/course/:cid",component:U}),Object(c.jsx)(l.b,{path:"/error/:code",component:m}),Object(c.jsx)(l.a,{to:"/home"})]})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,529)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(u.a,{children:Object(c.jsx)(ue,{})})}),document.getElementById("root")),be()}},[[504,1,2]]]);
//# sourceMappingURL=main.7d3a2b0d.chunk.js.map