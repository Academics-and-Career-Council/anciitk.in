(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{257:function(e,t,c){},258:function(e,t,c){},431:function(e,t,c){},436:function(e,t,c){},504:function(e,t,c){"use strict";c.r(t);var n=c(5),a=c(0),s=c.n(a),r=c(31),i=c.n(r),o=(c(257),c(258),c(58)),l=c(40),j=c(516),d=c(107),u=c(41),b=Object(u.b)({key:"USER",default:{username:"",token:"",loggedIn:!1}}),m=function(e){var t=Object(l.h)(),c=Object(l.g)(),s=Object(u.d)(b);Object(a.useEffect)((function(){return s()}),[]);return Object(n.jsx)(j.a,{status:t.code||404,title:t.code||"404",subTitle:function(){switch(t.code){case"404":return"Sorry, the page you visited does not exist.";case"500":return"We have some troubles connecting to our servers. Try again shortly!";default:return"Sorry, the page you visited does not exist."}}()||"Unknown Error",extra:Object(n.jsx)(o.b,{to:"/home",children:Object(n.jsx)(d.a,{type:"primary",onClick:function(){"500"===t.code&&c.goBack()},children:"Back Home"})})})},h=c(9),O=c(174),p=c(251),x=c(221),f=c(510),g=c(507),v=c(514),y=c(517),N=c(512),S=c(59),w=c.n(S),I=c(515),C=c(137),E=c.n(C),k=function(e){return"https://anciitk-courses.herokuapp.com/api/".concat(e)},T=function(e){var t=Object(a.useState)([]),c=Object(h.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(!1),o=Object(h.a)(i,2),l=o[0],d=o[1],m=Object(a.useState)(!1),O=Object(h.a)(m,2),f=O[0],g=O[1],y=Object(u.c)(b).token,N=Object(u.d)(b);Object(a.useEffect)((function(){d(!0),w.a.get(k("getReviews/".concat(e.course)),{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(y)}}).then((function(e){r(e.data),d(!1)})).catch((function(e){var t;p.b.error((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Failed to Reach Server"),N(),d(!1),g(!0)}))}),[e.course]);var S=I.a.Panel;return Object(n.jsxs)(x.a,{tip:"Loading.....",spinning:l,children:[!l&&Object(n.jsx)(I.a,{accordion:!0,children:s.map((function(e){return Object(n.jsx)(S,{header:"".concat(e.semester," Prof : ").concat(e.instructor),children:Object(n.jsx)(v.a,{children:Object(n.jsx)(E.a,{children:e.grading})})},e._id)}))}),!l&&0===s.length&&Object(n.jsx)(j.a,{title:"There are no reviews!"}),f&&Object(n.jsx)(j.a,{status:"warning",title:"Failed to fetch reviews! Please check your network connection"})]})},F=c(513),P=c(521),L=c(522),R=c(523),M=c(524),B=function(e){var t=e.files.map((function(e){return JSON.parse(e)})),c=Object(u.c)(b).token,a=function(e){switch(e){case"pdf":return Object(n.jsx)(P.a,{});case"doc":return Object(n.jsx)(L.a,{});case"zip":return Object(n.jsx)(R.a,{});default:return Object(n.jsx)(M.a,{})}};return Object(n.jsx)(F.b,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return Object(n.jsx)(F.b.Item,{children:Object(n.jsx)(F.b.Item.Meta,{avatar:a(e.name.split(".")[e.name.split(".").length-1]),title:Object(n.jsx)("a",{download:!0,href:"".concat(k("getFile"),"/").concat(e.fileId,"?mimeType=").concat(e.name.split(".")[e.name.split(".").length-1],"&token=").concat(c),children:e.name})})})}})},D=O.a.TabPane,H=function(){var e=Object(l.h)(),t=(Object(l.g)(),Object(a.useState)()),c=Object(h.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(!1),o=Object(h.a)(i,2),j=o[0],d=o[1],m=Object(u.c)(b).token;return Object(a.useEffect)((function(){d(!0),w.a.get(k("getCourse/".concat(e.cid)),{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(m)}}).then((function(e){r(e.data),d(!1)})).catch((function(e){p.b.error("")}))}),[e.cid]),Object(n.jsx)(x.a,{spinning:j,tip:"Loading...",children:Object(n.jsx)(f.a,{className:"site-page-header-responsive",onBack:function(){return window.history.back()},title:"".concat((null===s||void 0===s?void 0:s.number)||" ","   ").concat((null===s||void 0===s?void 0:s.title)||" "),extra:[],footer:Object(n.jsxs)(O.a,{defaultActiveKey:"1",children:[Object(n.jsxs)(D,{tab:"Details",children:[Object(n.jsx)(g.a,{}),Object(n.jsxs)(v.a,{children:[" ",Object(n.jsx)(E.a,{children:(null===s||void 0===s?void 0:s.contents)||""})," "]})]},"1"),Object(n.jsx)(D,{tab:"Reviews",children:Object(n.jsx)(T,{course:e.cid})},"2"),Object(n.jsx)(D,{tab:"Files",children:Object(n.jsx)(B,{files:(null===s||void 0===s?void 0:s.driveFiles)||[]})},"3")]}),children:Object(n.jsxs)("div",{className:"content",children:[Object(n.jsxs)("div",{className:"main",children:[" ",Object(n.jsx)(y.a,{size:"small",column:1,children:Object(n.jsx)(y.a.Item,{label:"Department",children:null===s||void 0===s?void 0:s.dept})})]}),Object(n.jsxs)("div",{className:"extra",children:[" ",Object(n.jsxs)("div",{style:{display:"flex",width:"max-content",justifyContent:"flex-end"},children:[Object(n.jsx)(N.a,{title:"Credits",value:(null===s||void 0===s?void 0:s.credits)||"",style:{marginRight:32}}),Object(n.jsx)(N.a,{title:"Offered",value:(null===s||void 0===s?void 0:s.offered)||""})]})]})]})})})},U=(c(431),c.p+"static/media/logo192.2b6e6951.png"),A=function(){return Object(a.useEffect)((function(){document.body.classList.add("body-banner");var e=document.createElement("script");return e.src="static/js/landing.js",e.async=!0,document.body.appendChild(e),function(){document.body.classList.remove("body-banner"),document.body.removeChild(e)}})),Object(n.jsx)(a.Fragment,{children:Object(n.jsxs)("ul",{id:"scene",children:[Object(n.jsx)("li",{className:"layer","data-depth":"0.0"}),Object(n.jsx)("li",{className:"layer","data-depth":"0.10",children:Object(n.jsx)("div",{className:"background"})}),Object(n.jsx)("li",{className:"layer","data-depth":"0.10",children:Object(n.jsx)("div",{id:"particules",children:Object(n.jsx)("div",{className:"first",id:"star"})})}),Object(n.jsx)("li",{className:"layer","data-depth":"0.15",children:Object(n.jsx)("div",{id:"particules",children:Object(n.jsx)("div",{className:"second",id:"star"})})}),Object(n.jsx)("li",{className:"layer","data-depth":"0.20",children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("img",{src:U,alt:"logo"})})}),Object(n.jsx)("li",{className:"layer","data-depth":"0.30",children:Object(n.jsx)("div",{className:"text",children:Object(n.jsx)("p",{className:"sub-title",children:"Courses Reviews"})})}),Object(n.jsx)("li",{className:"layer","data-depth":"0.40",children:Object(n.jsx)("div",{className:"text",children:Object(n.jsx)("h1",{children:"Courses"})})}),Object(n.jsx)("li",{className:"layer","data-depth":"0.42",children:Object(n.jsx)("div",{id:"particules",children:Object(n.jsx)("div",{className:"third",id:"star"})})}),Object(n.jsx)("li",{className:"layer","data-depth":"0.60",children:Object(n.jsx)("div",{id:"particules",children:Object(n.jsx)("div",{className:"fourth",id:"star"})})})]})})},z=c(525),J=function(){var e=Object(u.c)(b).loggedIn;return Object(n.jsxs)("div",{children:[Object(n.jsx)(A,{}),Object(n.jsx)(o.b,{to:e?"/search":"/signin",children:Object(n.jsx)(z.a,{style:{fontSize:40,position:"absolute",bottom:"10vh",justifySelf:"center",left:0,right:0,margin:"auto"}})})]})},G=c(526),q=c(508),K=c(108),V=c(64),Y=c(518),_=c(73),W=c(509),Q=c(520),X=["ART","BSE","CE","CHE","CHM","CS","DES","ECO","EE","EEM","ENG","ES","ESC","ESO","IME","PHY","LIF","LT","MBA","ME","MSE","MSO","MTH","NT","PHI","PHY","PSY","SE","SOC","TA"],Z=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(""),i=Object(h.a)(r,2),l=i[0],d=i[1],u=Object(a.useState)([]),b=Object(h.a)(u,2),m=b[0],O=b[1],x=Object(G.a)(c,500),f=Object(h.a)(x,1)[0];return Object(a.useEffect)((function(){""!==l&&w.a.get(k("search/".concat(l).concat(f))).then((function(e){O(e.data)})).catch((function(e){var t;p.b.error((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Failed to Reach Server")}))}),[l,f]),Object(n.jsx)(q.a,{style:{backgroundColor:"white",height:"100vh"},children:Object(n.jsx)(q.a.Content,{className:"site-layout",style:{padding:"0 50px",marginTop:64,marginBottom:64},children:Object(n.jsxs)("div",{className:"site-input-group-wrapper",children:[Object(n.jsx)(K.a,{justify:"center",children:Object(n.jsx)(V.a,{xs:24,md:12,children:Object(n.jsxs)(Y.a.Group,{compact:!0,children:[Object(n.jsx)(_.a,{defaultValue:"Dept.",style:{width:"30%"},onChange:function(e){d(e),s("")},children:X.map((function(e){return Object(n.jsx)(_.a.Option,{value:e,children:e})}))}),Object(n.jsx)(W.a,{style:{width:"70%"},placeholder:"Course Code",options:m.map((function(e){return{value:e.number.replace(/\D/g,"")+(isNaN(parseInt(e.number[e.number.length-1]))?e.number[e.number.length-1]:"")}})),allowClear:!0,value:c,onChange:function(e){return s(e)}})]})})}),Object(n.jsx)(K.a,{justify:"center",children:Object(n.jsxs)(V.a,{xs:24,md:12,children:[m.map((function(e){return Object(n.jsx)(Q.a,{type:"inner",title:e.number,extra:Object(n.jsx)(o.b,{to:"/course/".concat(e.number),children:"More"}),style:{marginTop:"4vh"},children:"".concat(e.title," ").concat(e.credits)})})),0===m.length&&Object(n.jsx)(j.a,{title:"No Courses found!"})]})})]})})})},$=function(){return Object(n.jsx)(Z,{})},ee=c(511),te=c(519),ce=c(527),ne=c(528),ae=(c(436),function(){var e=Object(u.e)(b),t=Object(a.useState)(!1),c=Object(h.a)(t,2),s=c[0],r=c[1],i=Object(l.g)();return Object(n.jsx)(x.a,{spinning:s,tip:"Loading...",children:Object(n.jsxs)(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){r(!0),w.a.post(k("signin"),{userName:t.username.trim(),password:t.password.trim()}).then((function(c){e({username:t.username.trim(),token:c.data.token,loggedIn:!0}),localStorage.setItem("anc-courses",JSON.stringify({username:t.username.trim(),token:c.data.token,loggedIn:!0,expireTime:Date.now()+1044e4})),p.b.success("Logged In Successfully"),r(!1),i.push("search")})).catch((function(e){var t;p.b.error((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Failed to Reach Server"),r(!1)}))},children:[Object(n.jsx)(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(n.jsx)(Y.a,{prefix:Object(n.jsx)(ce.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(n.jsx)(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(n.jsx)(Y.a,{prefix:Object(n.jsx)(ne.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(n.jsx)(ee.a.Item,{children:Object(n.jsx)(ee.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(n.jsx)(te.a,{children:"Remember me"})})}),Object(n.jsxs)(ee.a.Item,{children:[Object(n.jsx)(d.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),Object(n.jsx)(o.b,{className:"login-form-forgot",to:"signup",children:"New User? Register Here!"})]})]})})}),se=function(){return Object(n.jsx)("div",{className:"site-input-group-wrapper",style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10%"},children:Object(n.jsx)(ae,{})})},re=c(27),ie=c(151),oe=function(e){var t=e.component,c=Object(ie.a)(e,["component"]),a=Object(u.c)(b).loggedIn;return Object(n.jsx)(l.b,Object(re.a)(Object(re.a)({},c),{},{render:function(e){return a?Object(n.jsx)(t,Object(re.a)(Object(re.a)({},c),e)):Object(n.jsx)(l.a,{to:{pathname:"/home"}})}}))},le=v.a.Text,je=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),c=t[0],s=t[1];return Object(n.jsxs)(x.a,{spinning:c,tip:"Loading...",children:[Object(n.jsx)(v.a.Title,{level:3,children:"New User Registration"}),Object(n.jsxs)(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){s(!0),w.a.post(k("signup"),{userName:e.username.trim()}).then((function(e){p.b.success(e.data.message),s(!1)})).catch((function(e){var t;p.b.error((null===(t=e.response)||void 0===t?void 0:t.data.message)||"Failed to Reach Server"),s(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(n.jsx)(ee.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(n.jsx)(Y.a,{prefix:Object(n.jsx)(ce.a,{className:"site-form-item-icon"}),placeholder:"IITK Username"})}),Object(n.jsx)(ee.a.Item,{children:Object(n.jsx)(d.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Submit"})}),Object(n.jsx)(le,{type:"secondary",children:"An Email will sent to your IITK Email Id containing the password!"})]})]})},de=function(){return Object(n.jsx)("div",{className:"site-input-group-wrapper",style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10%",overflow:"hidden"},children:Object(n.jsx)(je,{})})},ue=function(){var e=Object(u.e)(b);return Object(a.useEffect)((function(){var t=localStorage.getItem("anc-courses");console.log(t),t&&JSON.parse(t).expireTime>Date.now()&&e(JSON.parse(t)),w.a.get(k("wakeup")).then((function(){return console.log("Connection Success")}))}),[]),Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/home",component:J}),Object(n.jsx)(l.b,{path:"/signin",component:se}),Object(n.jsx)(l.b,{path:"/signup",component:de}),Object(n.jsx)(oe,{path:"/search",component:$}),Object(n.jsx)(oe,{path:"/course/:cid",component:H}),Object(n.jsx)(l.b,{path:"/error/:code",component:m}),Object(n.jsx)(l.a,{to:"/home"})]})})},be=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,529)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(ue,{})})}),document.getElementById("root")),be()}},[[504,1,2]]]);
//# sourceMappingURL=main.8beb3100.chunk.js.map